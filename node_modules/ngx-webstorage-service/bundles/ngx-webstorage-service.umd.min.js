!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("ngx-webstorage-service",["exports","@angular/core"],e):e(t.ngxWebstorageService={},t.ng.core)}(this,function(t,e){"use strict";var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};function n(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var r=function(){function e(t,e){this.defaultTranscoder=t,this.subject=e}return e.prototype.has=function(t){return this.subject.has(t)},e.prototype.get=function(t,e){return this.subject.get(t,e||this.defaultTranscoder)},e.prototype.set=function(t,e,r){this.subject.set(t,e,r||this.defaultTranscoder)},e.prototype.remove=function(t){this.subject.remove(t)},e.prototype.clear=function(){this.subject.clear()},e.prototype.withDefaultTranscoder=function(t){return new e(t,this.subject)},e}(),i=function(){function t(t){this.defaultTranscoder=t}return t.prototype.get=function(t,e){var r=this.getItem(t);return r!==undefined?(e||this.defaultTranscoder).decode(r):undefined},t.prototype.set=function(t,e,r){this.setItem(t,(r||this.defaultTranscoder).encode(e))},t.prototype.withDefaultTranscoder=function(t){return new r(t,this)},t}(),u=function(){function t(){}return t.prototype.encode=function(t){return JSON.stringify(t)},t.prototype.decode=function(t){try{return JSON.parse(t)}catch(e){return undefined}},t}(),c=function(){function t(){}return t.prototype.encode=function(t){return t},t.prototype.decode=function(t){return t},t}(),s=function(){function t(){}return t.prototype.encode=function(t){return t.toString()},t.prototype.decode=function(t){return"true"===t||"false"!==t&&undefined},t}(),a=function(){function t(){}return t.prototype.encode=function(t){return t.toString()},t.prototype.decode=function(t){var e=Number(t);return Number.isFinite(e)?e:undefined},t}(),f={JSON:new u,STRING:new c,BOOLEAN:new s,NUMBER:new a},p=function(e){function t(){var t=e.call(this,f.JSON)||this;return t.storage=new Map,t}return n(t,e),t.prototype.has=function(t){return this.storage.has(t)},t.prototype.remove=function(t){this.storage["delete"](t)},t.prototype.clear=function(){this.storage.clear()},t.prototype.getItem=function(t){return this.storage.has(t)?this.storage.get(t):undefined},t.prototype.setItem=function(t,e){this.storage.set(t,e)},t}(i),d=function(r){function t(t){var e=r.call(this,f.JSON)||this;return e.storage=t,e}return n(t,r),t.prototype.has=function(t){return null!==this.storage.getItem(t)},t.prototype.remove=function(t){this.storage.removeItem(t)},t.prototype.clear=function(){this.storage.clear()},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return null!==e?e:undefined},t.prototype.setItem=function(t,e){return this.storage.setItem(t,e)},t}(i);function g(t){if(!t)return!1;try{var e=Date.now(),r="storage-test-entry-"+e,o="storage-test-value-"+e;t.setItem(r,o);var n=t.getItem(r);return t.removeItem(r),n===o}catch(i){return!1}}var y=new e.InjectionToken("SESSION_STORAGE"),h=new e.InjectionToken("LOCAL_STORAGE");function l(){return g(sessionStorage)?new d(sessionStorage):new p}function S(){return g(localStorage)?new d(localStorage):new p}var v=function(){};v.decorators=[{type:e.NgModule,args:[{providers:[{provide:y,useFactory:l},{provide:h,useFactory:S}]}]}],t.BaseStorageService=i,t.InMemoryStorageService=p,t.ProxyStorageService=r,t.JsonStorageTranscoder=u,t.StringStorageTranscoder=c,t.BooleanStorageTranscoder=s,t.NumberStorageTranscoder=a,t.StorageTranscoders=f,t.WebStorageService=d,t.isStorageAvailable=g,t.SESSION_STORAGE=y,t.LOCAL_STORAGE=h,t.sessionStorageFactory=l,t.localStorageFactory=S,t.StorageServiceModule=v,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-webstorage-service.umd.min.js.map
